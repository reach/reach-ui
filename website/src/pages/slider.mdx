import SEO from "../components/SEO";
import { TOC, TOCList, TOCLink } from "../components/TOC";

<SEO
  title="Slider (range)"
  description="Accessible slider component for React"
/>

# Slider (Range)

<TOC>
  <TOCList>
    <TOCLink href="#slider">Slider</TOCLink>
    <TOCLink href="#sliderinput">SliderInput</TOCLink>
    <TOCLink href="#slidertrack">SliderTrack</TOCLink>
    <TOCLink href="#slidertrackhighlight">SliderTrackHighlight</TOCLink>
    <TOCLink href="#slidermarker">SliderMarker</TOCLink>
    <TOCLink href="#sliderhandle">SliderHandle</TOCLink>
  </TOCList>
</TOC>

- Source: https://github.com/reach/reach-ui/tree/master/packages/slider
- WAI-ARIA: https://www.w3.org/TR/wai-aria-practices-1.1/#slider

A UI input component where the user selects a value from within a given range. A Slider has a handle that can be moved along a track to change its value. When the user's mouse or focus is on the Slider's handle, the value can be incremented with keyboard controls.

Sliders are composed by an outer `Slider` component with a `SliderTrack` child component. `SliderTrack` can accept `SliderTrackHighlight`, `SliderMarker` and `SliderHandle` components as children.

_Pointer Events_: Slider uses pointer events for unified event handling across different pointer types (mouse, touch, stylus, etc.). As such, to override default behavior you will need to use pointer events rather than mouse or touch events. For example, if you wish to call `event.preventDefault` to override the slider handle's activation on a mouse click event, you'll want to reach for `onPointerDown` instead of `onMouseDown`. [If you need to support older browsers without native pointer events](https://caniuse.com/#feat=pointer) (or ensure compatibility with some inconsistent native behavior in MacOS Safari < 13 and Safari), we recommend [`pepjs`](https://github.com/jquery/PEP) as a polyfill.

You can use `Slider` as a simple standalone component, or compose its parts with `SliderInput`.

```jsx
// jsx-demo
function Example() {
  return <Slider />;
}
```

```jsx
// jsx-demo
function Example() {
  return (
    <div>
      <SliderInput>
        <SliderTrack>
          <SliderTrackHighlight />
          <SliderMarker value={50} />
          <SliderHandle />
        </SliderTrack>
      </SliderInput>
    </div>
  );
}
```

## Installation

From the command line in your project directory, run `npm install @reach/slider` or `yarn add @reach/slider`. Then import the components and styles that you need:

```bash
npm install @reach/slider
# or
yarn add @reach/slider
```

```js
import {
  Slider,
  SliderInput,
  SliderTrack,
  SliderTrackHighlight,
  SliderHandle,
  SliderMarker
} from "@reach/slider";
import "@reach/slider/styles.css";
```

## Usage

```jsx
// jsx-demo
function Example() {
  return <Slider min={0} max={200} step={10} />;
}

function ExampleComposed() {
  return (
    <SliderInput min={0} max={200} step={10}>
      <SliderTrack>
        <SliderTrackHighlight />
        <SliderHandle />
      </SliderTrack>
    </SliderInput>
  );
}
```

## Component API

### Slider

High-level component to render a slider in its simplest form. This works simililarly to a native HTML range input.

```jsx
<Slider min={0} max={100} />
```

#### Slider CSS Selectors

Please see the [styling guide](/styling).

```css
[data-reach-slider] {
}
[data-reach-slider-disabled] {
}
[data-reach-slider-orientation="horizontal|vertical"] {
}
```

#### Slider Props

| Prop                                       | Type                        | Required | Default        |
| ------------------------------------------ | --------------------------- | -------- | -------------- |
| [children](#slider-children)               | node                        | true     |                |
| [defaultValue](#slider-defaultvalue)       | number                      | false    |                |
| [disabled](#slider-disabled)               | boolean                     | false    |                |
| [getValueText](#slider-getvaluetext)       | func                        | false    |                |
| [handleAlignment](#slider-handlealignment) | `'center' | 'contain'`      | false    | `'center'`     |
| [max](#slider-max)                         | number                      | false    | 100            |
| [min](#slider-min)                         | number                      | false    | 0              |
| [name](#slider-name)                       | string                      | false    |                |
| [onChange](#slider-onchange)               | func                        | false    |                |
| [orientation](#slider-orientation)         | `'horizontal' | 'vertical'` | false    | `'horizontal'` |
| [step](#slider-step)                       | number                      | false    |                |
| [value](#slider-value)                     | number                      | false    |                |

#### Controlled Slider

If you want to control the slider's value, you can do so by passing a `value` and `onChange` handler similar to form inputs.

```jsx
const [value, setValue] = useState(0);
<Slider onChange={setValue} value={value} min={0} max={100} />;
```

#### Slider Props

| Prop                                       | Type                        | Required | Default        |
| ------------------------------------------ | --------------------------- | -------- | -------------- |
| [children](#slider-children)               | node                        | true     |                |
| [defaultValue](#slider-defaultvalue)       | number                      | false    |                |
| [disabled](#slider-disabled)               | boolean                     | false    |                |
| [getValueText](#slider-getvaluetext)       | func                        | false    |                |
| [handleAlignment](#slider-handlealignment) | `'center' | 'contain'`      | false    | `'center'`     |
| [max](#slider-max)                         | number                      | false    | 100            |
| [min](#slider-min)                         | number                      | false    | 0              |
| [name](#slider-name)                       | string                      | false    |                |
| [onChange](#slider-onchange)               | func                        | false    |                |
| [orientation](#slider-orientation)         | `'horizontal' | 'vertical'` | false    | `'horizontal'` |
| [step](#slider-step)                       | number                      | false    |                |
| [value](#slider-value)                     | number                      | false    |                |

##### Slider children

_Type_: `node`

`Slider` can accept `SliderMarker` children to enhance display of specific values along the track.

```jsx
<Slider min={0} max={100}>
  {new Array(11).fill("x").map((x, index) => (
    <SliderMarker value={index * 10}>
      <span>{index * 10}</span>
    </SliderMarker>
  ))}
</Slider>
```

##### Slider defaultValue

_Type_: `number`

The defaultValue is used to set an initial value for an uncontrolled Slider.

##### Slider disabled

_Type_: `boolean`

Whether or not the slider should be disabled from user interaction.

##### Slider getValueText

_Type_: `func: (value: number) => string`

A function used to set human readable value text based on the slider's current value.

##### Slider handleAlignment

_Type_: `'center' | 'contain'`

When set to `center`, the slider's handle will be positioned directly centered over the slider's curremt value on the track. This means that when the slider is at its min or max value, a visiable slider handle will extend beyond the width (or height in vertical mode) of the slider track. When set to `contain`, the slider handle will always be contained within the bounds of the track, meaning its position will be slightly offset from the actual value depending on where it sits on the track.

##### Slider max

_Type_: `number`

The maximum value of the slider. Defaults to `100`.

##### Slider min

_Type_: `number`

The minimum value of the slider. Defaults to `0`.

##### Slider name

_Type_: `string`

If the slider is used as a form input, it should accept a `name` prop to identify its value in context of the form.

##### Slider onChange

_Type_: `func: (value, { min, max, handlePosition }) => void`

Callback that fires when the slider value changes. When the `value` prop is set, the Slider state becomes controlled and `onChange` must be used to update the value in response to user interaction.

##### Slider orientation

_Type_: `'horizontal' | 'vertical'`

Sets the slider to horizontal or vertical mode.

##### Slider step

_Type_: `number`

The step attribute is a number that specifies the granularity that the value must adhere to as it changes. Step sets minimum intervals of change, creating a "snap" effect when the handle is moved along the track.

##### Slider value

_Type_: `number`

An explicit value for the slider. When this prop is used, the Slider state becomes controlled and `onChange` must be used to update the value in response to user interaction.

### SliderInput

The parent component of the slider interface. This is a lower level component if you need more control over styles or rendering the slider's inner components.

#### SliderInput CSS Selectors

See selectors for [`Slider`](#slider-css-selectors).

#### SliderInput Props

`SliderInput` accepts the same props as [`Slider`](#slider-props).

##### SliderInput children

_Type_: `node | func: (args: SliderArgs) => node`

Slider expects `<SliderTrack>` as its child; The track will accept all additional slider sub-components as children. It can also accept a function/render prop as its child to expose some of its internal state variables.

`SliderArgs = { hasFocus: boolean, id: string, max: number, min: number, value: number, valueText: string }`

### SliderTrack

The parent component of the slider's inner components. Represents the visual track on which the slider's handle moves to represent its value.

#### SliderTrack CSS Selectors

Please see the [styling guide](/styling).

```css
[data-reach-slider-track] {
}
[data-reach-slider-track-disabled] {
}
[data-reach-slider-track-orientation="horizontal|vertical"] {
}
```

#### SliderTrack Props

| Prop                              | Type | Required | Default |
| --------------------------------- | ---- | -------- | ------- |
| [children](#slidertrack-children) | node | true     |         |

##### SliderTrack children

_Type_: `node`

`SliderTrack` expects `<SliderHandle>`, at minimum, for the Slider to function. All other Slider subcomponents should be passed as children inside the `SliderTrack`.

### SliderTrackHighlight

The (typically) highlighted portion of the track that represents the space between the slider's `min` value and its current value.

#### SliderTrackHighlight CSS Selectors

Please see the [styling guide](/styling).

```css
[data-reach-slider-track-highlight] {
}
[data-reach-slider-track-highlight-disabled] {
}
[data-reach-slider-track-highlight-orientation="horizontal|vertical"] {
}
```

### SliderMarker

A fixed value marker. These can be used to illustrate a range of steps or highlight important points along the slider track.

#### SliderMarker CSS Selectors

Please see the [styling guide](/styling).

```css
[data-reach-slider-marker] {
}
[data-reach-slider-marker-disabled] {
}
[data-reach-slider-marker-orientation="horizontal|vertical"] {
}

/* Applied to a marker when the slider value exceeds the marker value */
[data-reach-slider-marker-highlight] {
}
```

#### SliderMarker Props

| Prop                         | Type   | Required | Default |
| ---------------------------- | ------ | -------- | ------- |
| [value](#slidermarker-value) | number | true     |         |

##### SliderMarker value

_Type_: `number`

The value to denote where the marker should appear along the track.

### SliderHandle

The handle that the user drags along the track to set the slider value.

#### SliderHandle CSS Selectors

Please see the [styling guide](/styling).

```css
[data-reach-slider-handle] {
}
[data-reach-slider-handle-disabled] {
}
[data-reach-slider-handle-orientation="horizontal|vertical"] {
}
```
